String.prototype.replaceAll = function(org, dest){
    return this.split(org).join(dest);
}

Date.prototype.format = function(f) {
    if (!this.valueOf()) return " ";

    var weekName = ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"];
    var d = this;

    return f.replace(/(yyyy|yy|MM|dd|E|hh|mm|ss|a\/p)/gi, function($1) {
        switch ($1) {
            case "yyyy": return d.getFullYear();
            case "yy": return (d.getFullYear() % 1000).zf(2);
            case "MM": return (d.getMonth() + 1).zf(2);
            case "dd": return d.getDate().zf(2);
            case "E": return weekName[d.getDay()];
            case "HH": return d.getHours().zf(2);
            case "hh": return ((h = d.getHours() % 12) ? h : 12).zf(2);
            case "mm": return d.getMinutes().zf(2);
            case "ss": return d.getSeconds().zf(2);
            case "a/p": return d.getHours() < 12 ? "오전" : "오후";
            default: return $1;
        }
    });
};
String.prototype.string = function(len){var s = '', i = 0; while (i++ < len) { s += this; } return s;};
String.prototype.zf = function(len){return "0".string(len - this.length) + this;};
Number.prototype.zf = function(len){return this.toString().zf(len);};

function htmlspecialchars(str){
	str = str.replaceAll('&','&amp;');
	str = str.replaceAll('"','&quot;');
	str = str.replaceAll("'",'&#039;');
	str = str.replaceAll('<','&lt;');
	str = str.replaceAll('>','&gt;');
	return str;
}

function htmlspecialchars_decode(str){
	str = str.replaceAll('&amp;', '&');
	str = str.replaceAll('&quot;', '"');
	str = str.replaceAll('&#039;', "'");
	str = str.replaceAll('&apos;', "'");
	str = str.replaceAll('&lt;', '<');
	str = str.replaceAll('&gt;', '>');
	return str;
}

function getNumber(str){
	return str.replace(/[^0-9]/g,'');
}

function getUrlParams() {
    var params = {};
    window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(str, key, value) { params[key] = value; });
    return params;
}

function getUri(){
	return document.location.href.split("?");
}

function isEmail(email){
	var regEmail = /[0-9a-zA-Z][_0-9a-zA-Z-]*@[_0-9a-zA-Z-]+(\.[_0-9a-zA-Z-]+){1,2}$/;
	return regEmail.test(email);
}

function isPhone(phone){
	var regPhone = /^(01[016789]{1}|02|0[3-9]{1}[0-9]{1})[-|\.]?[0-9]{3,4}[-|\.]?[0-9]{4}$/;
	return regPhone.test(phone);
}

function randomRange(n1, n2) {
  return Math.floor( (Math.random() * (n2 - n1 + 1)) + n1 );
}

function todayHideCookie(name){
	var todayDate = new Date();
	todayDate.setDate(todayDate.getDate() +1);
	todayDate.setHours(0,0,0,0);
	document.cookie = name + "=none;expires=" + todayDate.toGMTString();
}

function getCookie(name) {
    var cookieName = name + "=";
    var x = 0;
    while ( x <= document.cookie.length ) { 
        var y = (x+cookieName.length); 
        if ( document.cookie.substring( x, y ) == cookieName) { 
            if ((lastChrCookie=document.cookie.indexOf(";", y)) == -1) lastChrCookie = document.cookie.length;
            return decodeURI(document.cookie.substring(y, lastChrCookie));
        }
        x = document.cookie.indexOf(" ", x ) + 1; 
        if ( x == 0 ) break; 
    } 
    return "";
}

function checkUrl(url){
    var regex = /^(((http(s?))\:\/\/)?)([0-9a-zA-Z\-]+\.)+[a-zA-Z]{2,6}(\:[0-9]+)?(\/\S*)?/;
	//var regex = /^(((http(s?))\:\/\/))([0-9a-zA-Z\-]+\.)+[a-zA-Z]{2,6}(\:[0-9]+)?(\/\S*)?/;
    return regex.test(url);
}

function strByte(str){
	var pattern = /[\u0000-\u007f]|([\u0080-\u07ff]|(.))/g;
	return str.replace(pattern, "$&$1$2").length;
}

function cutByByte(str, maxByte){
	var byteSize = 0;
	
	var str_len = str.length;
	
	for(i = 0; i < str_len; i++){
		var ch = str.charAt(i);
		
		var charCode = ch.charCodeAt(0);
		
		if (charCode <= 0x00007F) {
			byteSize++;
		} else if (charCode <= 0x0007FF) {
			byteSize += 2;
		} else if (charCode <= 0x00FFFF) {
			byteSize += 3;
		} else {
			byteSize += 4;
		}
		
		if(byteSize > maxByte)
			break;
	}

	return str.substring(0,i);
}

jQuery.cachedScript = function( url, options ) {
 	// Allow user to set any option except for dataType, cache, and url
	options = $.extend( options || {}, {
		dataType: "script",
		cache: true,
		url: url
	});

	// Use $.ajax() since it is more flexible than $.getScript
	// Return the jqXHR object so we can chain callbacks
	return jQuery.ajax( options );
};

//gtm event
function gtmEventPush(eventName, category, action, label){
	dataLayer.push({
		'event': eventName,
		'category': category,
		'action': action,
		'label': label.trim()
	});		
}

if(typeof(numberFormat) == 'undefined'){
	function numberFormat(str){
		return str.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
	}
}